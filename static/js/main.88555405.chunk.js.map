{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Container/Container.module.css","components/Section/Section.module.css","components/ErrorMessage/ErrorMessage.module.css","components/Request/Request.module.css","components/Button/Button.module.css","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Container/Container.js","components/Searchbar/Searchbar.js","services/services.js","components/Section/Section.js","components/ErrorMessage/ErrorMesssage.js","components/Request/Request.js","components/Button/Button.js","components/Modal/Modal.js","App.js","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","ImageGalleryItem","handleClickImage","e","props","openModal","target","dataset","large","this","webformatURL","largeImageURL","tags","className","s","Item","onClick","src","alt","Image","Component","ImageGallery","images","map","id","Container","children","container","SearchBar","state","query","handleSubmitForm","preventDefault","onSubmit","setState","toast","error","handleChangeQuery","currentTarget","value","toLowerCase","trim","Searchbar","Form","type","Button","Label","Input","autoComplete","autoFocus","placeholder","onChange","API_KEY","pixabayAPI","fetchImage","page","fetch","then","response","json","Section","Gallery","ErrorMessage","message","text","Request","modalRoot","document","querySelector","Modal","onKeyDown","code","onClose","onBackdropClick","window","addEventListener","removeEventListener","createPortal","Overlay","App","total","status","showModal","largeURL","firstFetchImages","hits","nextFetchImages","prevState","handleFormSubmit","handleIncrement","toggleModal","url","prevProps","scrollTo","top","documentElement","scrollHeight","behavior","color","height","width","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.88555405.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Item\":\"ImageGalleryItem_Item__1gh20\",\"Image\":\"ImageGalleryItem_Image__3Av-G\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3dZtg\",\"Modal\":\"Modal_Modal__apyzQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__1cM9g\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__2CL8S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Gallery\":\"Section_Gallery__2_IYu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"ErrorMessage_text__2--L3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"text\":\"Request_text__3MJBM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__1vV1i\"};","import PropTypes from \"prop-types\";\r\nimport { Component } from \"react\";\r\nimport s from \"./ImageGalleryItem.module.css\";\r\n\r\nclass ImageGalleryItem extends Component {\r\n  handleClickImage = e => {\r\n    this.props.openModal(e.target.dataset.large);\r\n  };\r\n\r\n  render() {\r\n    const { webformatURL, largeImageURL, tags = \"image\" } = this.props;\r\n\r\n    return (\r\n      <li className={s.Item}>\r\n        <img\r\n          onClick={this.handleClickImage}\r\n          src={webformatURL}\r\n          alt={tags}\r\n          className={s.Image}\r\n          data-large={largeImageURL}\r\n        />\r\n      </li>\r\n    );\r\n  }\r\n}\r\n\r\nImageGalleryItem.propTypes = {\r\n  webformatURL: PropTypes.string.isRequired,\r\n  largeImageURL: PropTypes.string.isRequired,\r\n  tags: PropTypes.string.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGalleryItem;\r\n","import ImageGalleryItem from \"../ImageGalleryItem\";\r\nimport PropTypes from \"prop-types\";\r\nimport s from \"./ImageGallery.module.css\";\r\n\r\nconst ImageGallery = ({ images, openModal }) => {\r\n  return (\r\n    <>\r\n      <ul className={s.ImageGallery}>\r\n        {images.map(({ id, webformatURL, largeImageURL, tags }) => {\r\n          return (\r\n            <ImageGalleryItem\r\n              key={id}\r\n              webformatURL={webformatURL}\r\n              openModal={openModal}\r\n              largeImageURL={largeImageURL}\r\n              tags={tags}\r\n            />\r\n          );\r\n        })}\r\n      </ul>\r\n    </>\r\n  );\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  images: PropTypes.array.isRequired,\r\n  openModal: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","import s from \"./Container.module.css\";\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className={s.container}>{children}</div>;\r\n};\r\n\r\nexport default Container;\r\n","import { Component } from \"react\";\r\nimport s from \"./Searchbar.module.css\";\r\nimport { toast } from \"react-toastify\";\r\nimport Container from \"../Container\";\r\n\r\nclass SearchBar extends Component {\r\n  state = {\r\n    query: \"\",\r\n  };\r\n\r\n  handleSubmitForm = e => {\r\n    e.preventDefault();\r\n\r\n    if (!this.state.query) {\r\n      toast.error(\"Please, enter your request!\");\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.query);\r\n    this.setState({ query: \"\" });\r\n  };\r\n\r\n  handleChangeQuery = e => {\r\n    this.setState({ query: e.currentTarget.value.toLowerCase().trim() });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.Searchbar}>\r\n        <Container>\r\n          <form onSubmit={this.handleSubmitForm} className={s.Form}>\r\n            <button type=\"submit\" className={s.Button}>\r\n              <span className={s.Label}>Search</span>\r\n            </button>\r\n\r\n            <input\r\n              className={s.Input}\r\n              type=\"text\"\r\n              autoComplete=\"off\"\r\n              autoFocus\r\n              placeholder=\"Search images and photos\"\r\n              onChange={this.handleChangeQuery}\r\n              value={this.state.query}\r\n            />\r\n          </form>\r\n        </Container>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SearchBar;\r\n","const API_KEY = \"22960309-85052fc004ca9b43ae271af96\";\r\n\r\nconst fetchImage = (query, page = 1) => {\r\n  return fetch(\r\n    `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\r\n  ).then(response => {\r\n    return response.json();\r\n  });\r\n};\r\n\r\nconst pixabayAPI = {\r\n  fetchImage,\r\n};\r\n\r\nexport default pixabayAPI;\r\n","import React from \"react\";\r\nimport s from \"./Section.module.css\";\r\n\r\nconst Section = ({ children }) => {\r\n  return <section className={s.Gallery}>{children}</section>;\r\n};\r\n\r\nexport default Section;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./ErrorMessage.module.css\";\r\n\r\nconst ErrorMessage = ({ message }) => {\r\n  return <p className={s.text}>{message}</p>;\r\n};\r\n\r\nErrorMessage.propTypes = {\r\n  message: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default ErrorMessage;\r\n","import s from \"./Request.module.css\";\r\n\r\nconst Request = () => {\r\n  return (\r\n    <>\r\n      <p className={s.text}>Please, enter your request</p>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Request;\r\n","import PropTypes from \"prop-types\";\r\nimport s from \"./Button.module.css\";\r\n\r\nconst Button = ({ onClick }) => (\r\n  <button type=\"button\" className={s.Button} onClick={onClick}>\r\n    Load more\r\n  </button>\r\n);\r\n\r\nButton.propTypes = {\r\n  onClick: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","import { Component } from \"react\";\r\nimport { createPortal } from \"react-dom\";\r\nimport s from \"./Modal.module.css\";\r\n\r\nconst modalRoot = document.querySelector(\"#modal-root\");\r\nclass Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener(\"keydown\", this.onKeyDown);\r\n  }\r\n\r\n  onKeyDown = e => {\r\n    if (e.code === \"Escape\") {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  onBackdropClick = e => {\r\n    if (e.target === e.currentTarget) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    return createPortal(\r\n      <div className={s.Overlay} onClick={this.onBackdropClick}>\r\n        <div className={s.Modal}>{this.props.children}</div>\r\n      </div>,\r\n      modalRoot\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import { Component } from \"react\";\r\nimport { ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\r\nimport \"./App.css\";\r\nimport Loader from \"react-loader-spinner\";\r\nimport ImageGallery from \"./components/ImageGallery\";\r\nimport Searchbar from \"./components/Searchbar\";\r\nimport pixabayAPI from \"./services/services\";\r\nimport Section from \"./components/Section\";\r\nimport Container from \"./components/Container\";\r\nimport ErrorMessage from \"./components/ErrorMessage\";\r\nimport Request from \"./components/Request\";\r\nimport Button from \"./components/Button\";\r\nimport Modal from \"./components/Modal\";\r\n\r\nclass App extends Component {\r\n  state = {\r\n    query: \"\",\r\n    images: null,\r\n    page: 1,\r\n    error: null,\r\n    total: null,\r\n    status: \"idle\",\r\n    showModal: false,\r\n    largeURL: \"\",\r\n  };\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    const { query, page, showModal } = this.state;\r\n\r\n    if (prevState.query !== query) {\r\n      this.setState({ status: \"pending\" });\r\n\r\n      this.firstFetchImages(query, page);\r\n    }\r\n\r\n    if (prevState.page !== page && page !== 1) {\r\n      this.nextFetchImages(query, page);\r\n    }\r\n\r\n    if (!showModal && !prevState.showModal) {\r\n      window.scrollTo({\r\n        top: document.documentElement.scrollHeight,\r\n        behavior: \"smooth\",\r\n      });\r\n    }\r\n  }\r\n\r\n  firstFetchImages = (query, page) => {\r\n    pixabayAPI.fetchImage(query, page).then(({ hits, total }) => {\r\n      this.setState({ images: hits, total, status: \"resolved\" });\r\n\r\n      if (!total) {\r\n        this.setState({\r\n          error: \"Something went wrong! Please, change your request!\",\r\n          status: \"rejected\",\r\n        });\r\n      } else {\r\n        this.setState({ error: null });\r\n      }\r\n    });\r\n  };\r\n\r\n  nextFetchImages = (query, page) => {\r\n    pixabayAPI.fetchImage(query, page).then(({ hits }) => {\r\n      this.setState(prevState => ({\r\n        images: [...prevState.images, ...hits],\r\n      }));\r\n    });\r\n  };\r\n\r\n  handleFormSubmit = query => {\r\n    this.setState({\r\n      query,\r\n      page: 1,\r\n    });\r\n  };\r\n\r\n  handleIncrement = () => {\r\n    this.setState({ page: this.state.page + 1 });\r\n  };\r\n\r\n  toggleModal = url => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n      largeURL: url,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { error, status, total, page, showModal, largeURL, images } =\r\n      this.state;\r\n\r\n    return (\r\n      <>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />;\r\n        <Section>\r\n          <Container>\r\n            {status === \"idle\" && <Request />}\r\n            {status === \"rejected\" && <ErrorMessage message={error} />}\r\n            {status === \"resolved\" && (\r\n              <ImageGallery images={images} openModal={this.toggleModal} />\r\n            )}\r\n            {status === \"pending\" && (\r\n              <Loader type=\"Watch\" color=\"#00BFFF\" height={80} width={80} />\r\n            )}\r\n            {total - page * 12 > 0 && <Button onClick={this.handleIncrement} />}\r\n          </Container>\r\n        </Section>\r\n        {showModal && (\r\n          <Modal onClose={this.toggleModal}>\r\n            <img src={largeURL} alt=\"\" />\r\n          </Modal>\r\n        )}\r\n        <ToastContainer autoClose={3000} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"root\")\r\n);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__37bn5\",\"Form\":\"Searchbar_Form__1H9eU\",\"Button\":\"Searchbar_Button__1G9HB\",\"Label\":\"Searchbar_Label__3AdVq\",\"Input\":\"Searchbar_Input__3tGFV\"};"],"sourceRoot":""}